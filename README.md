# TXT 转 EPUB 工具（前端 SPA）

[English](README-en.md)

一个纯前端的 TXT 小说转 EPUB 小工具。支持简体中文与英文文本，自动识别章节并生成含目录的 EPUB 文件，全部处理在浏览器本地完成，不上传文件，保护用户隐私。

在线体验地址：https://txt2epub.bluice.xyz/

## 功能特性

- 前端单页应用（SPA），静态部署即可使用
- 通过浏览器 File API 读取本地 TXT 文件
- 自动检测文本编码（使用 `jschardet`），支持 UTF-8 / GB18030 / Big5 等常见编码
- 章节识别规则：
  - 删除每行前导空格（半角/全角）
  - 行首匹配“第 x 章”作为章节标题，其中 x 可为阿拉伯数字或中文数字
  - 两个“第 x 章”之间的内容视为该章节正文
  - 文件开头到第一章之间的非空内容会作为“简介”章节
- 简单的章节预览与编辑：
  - 预览章节标题、字数、行数
  - 修改章节标题
  - 将某一章节与上一章节合并

## 技术栈

- 框架：Vue 3（Composition API）
- 语言：TypeScript
- 构建工具：Vite

## 开发与运行

1. 安装依赖：

```bash
npm install
```

2. 启动开发服务器：

```bash
npm run dev
```

然后在浏览器中访问终端输出提示的本地地址（通常是 `http://localhost:5173`）。

3. 构建生产版本：

```bash
npm run build
```

构建输出位于 `dist/` 目录，可部署到任意静态托管服务（如 GitHub Pages、Vercel、Cloudflare Pages 等）。

## 章节识别规则说明

1. **删除行首空格**：对每一行，删除行首的所有空白字符（空格、制表符、全角空格等）。
2. **章节标题识别**：
   - 行首匹配：`第 + 数字/中文数字 + 章`；
   - 数字可以是：
     - 阿拉伯数字：`0-9`；
     - 中文数字：`零一二三四五六七八九十百千万两〇○` 等；
   - 标题后面可以跟任意文字，例如：`第一章 重逢`、`第12章 序幕`。
3. **正文划分**：
   - 检测到的相邻两条“第 x 章”之间的内容视为前一章节的正文；
   - 最后一章的正文一直到文本结尾；
   - 文件开头到第一章之前的非空内容自动作为“简介”章节。
4. **兜底策略**：
   - 如果完全没有识别到“第 x 章”行，则默认将全文视作一个章节（标题为“正文”/“Content”）。
